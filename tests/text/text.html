<!DOCTYPE html>
<html>
<head>
    <title>require.js: Text Test</title>
    <script type="text/javascript" src="../../require.js"></script>
    <script type="text/javascript" src="../doh/runner.js"></script>
    <script type="text/javascript" src="../doh/_browserRunner.js"></script>
    <script type="text/javascript">
    require({
            baseUrl: "./",
            paths: {
                require: "../../require"
            }
        },
        ["require", "widget", "text!resources/sample.html!strip"],
        function(require, widget, sampleText) {
            doh.register(
                "text", 
                [
                    function text(t){
                        t.is("<span>Hello World!</span>", sampleText);
                        t.is('<div data-type="widget"><h1>This is a widget!</h1><p>I am in a widget</p></div>', widget.template);
                        t.is('subwidget', widget.subWidgetName);
                        t.is('<div data-type="subwidget"><h1>This is a subwidget</h1></div>', widget.subWidgetTemplate);
                        t.is('<span>This! is template2</span>', widget.subWidgetTemplate2);
                    }
                ]
            );
            doh.run();
        }
    );
    </script>
</head>
<body>
    <h1>require.js: Text Test</h1>
    <p>Test for usage of text! require plugin.
    <p>Check console for messages</p>
</body>
</html>
